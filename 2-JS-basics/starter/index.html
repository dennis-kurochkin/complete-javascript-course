<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Section 2: JavaScript Language Basics</title>
</head>

<body>
    <h1>Section 2: JavaScript Language Basics</h1>

    <h2>1st Challenge</h2>

    <script>
        // let mark = {
        //     'mass': parseInt(prompt('Mark\'s mass:')),
        //     'height': parseInt(prompt('Mark\'s height:'))
        // }

        // let john = {
        //     'mass': parseInt(prompt('John\'s mass:')),
        //     'height': parseInt(prompt('John\'s height:'))
        // }

        // let markBMI = mark.mass / (mark.height * mark.height);
        // let johnBMI = john.mass / (john.height * john.height);

        // let isHigherThanJohn = markBMI > johnBMI;

        // // console.log(markBMI, johnBMI, isHigherThanJohn);
        // console.log('Is Mark\'s BMI higher than John\'s? ' + isHigherThanJohn);
    </script>

    <h2>2nd Challenge</h2>

    <script>
        // let
        //     winner, winnerScore,
        //     johnsTotal = 0,
        //     mikesTotal = 0,
        //     marysTotal = 0,
        //     gamesPlayed = 3;

        // const
        //     johns = [89, 100, 173],
        //     mikes = [116, 94, 193],
        //     marys = [197, 134, 155];


        // johns.forEach((elem) => johnsTotal += elem);

        // mikes.forEach((elem) => mikesTotal += elem);

        // marys.forEach((elem) => marysTotal += elem);


        // johnsTotal = johnsTotal / 3;

        // mikesTotal = mikesTotal / 3;

        // marysTotal = marysTotal / 3;


        // switch (true) {
        //     case johnsTotal > mikesTotal && johnsTotal > marysTotal:
        //         winner = 'John';
        //         winnerScore = johnsTotal;
        //         break;
        //     case mikesTotal > johnsTotal && mikesTotal > marysTotal:
        //         winner = 'Mike'
        //         winnerScore = mikesTotal;
        //         break;
        //     case marysTotal > johnsTotal && marysTotal > mikesTotal:
        //         winner = 'Mary'
        //         winnerScore = marysTotal;
        //         break;
        //     default:
        //         break;
        // }

        // winnerScore = winnerScore.toFixed();


        // winner ?
        //     console.log(winner + ' is a winner! His score is ' + winnerScore + ' points.') :
        //     console.log('It\'s a draw!');
    </script>

    <h2>3rd Challenge</h2>

    <script>
        // let
        //     bills = [124, 46, 268],
        //     tips = [],
        //     finals = [];

        // const calculateTip = (bill) => {
        //     switch (true) {
        //         case bill < 50:
        //             return bill * .2;
        //         case bill <= 200:
        //             return bill * .15;
        //         default:
        //             return bill * .1;
        //     }
        // }

        // bills.forEach((bill) => {
        //     tips.push(calculateTip(bill).toFixed());
        //     finals.push(bill + calculateTip(bill));
        // });

        // console.log(tips, finals);
    </script>

    <h2>4th Challenge</h2>

    <script>
        // let people = [{
        //         'name': 'Mark',
        //         'mass': 60,
        //         'height': 1.75,
        //         'calcBMI': function () {
        //             this.bmi = this.mass / (this.height * this.height);
        //             return this.bmi;
        //         }
        //     },
        //     {
        //         'name': 'John',
        //         'mass': 60,
        //         'height': 1.70,
        //         'calcBMI': function () {
        //             this.bmi = this.mass / (this.height * this.height);
        //             return this.bmi;
        //         }
        //     }
        // ];

        // if (people[0].calcBMI() > people[1].calcBMI()) {
        //     console.log('Mark has the highest');
        // } else if (people[1].calcBMI() > people[0].calcBMI()) {
        //     console.log('John has the highest');
        // } else {
        //     console.log('The\'re same!');
        // }
    </script>

    <h2>5th Challenge</h2>

    <script>
        const johnsBills = {
            'billsValues': [124, 48, 268, 180, 42],
            'tips': [],
            'finals': [],
            'calcIt': function () {
                this.billsValues.forEach(elem => {
                    let rate = .1

                    if (elem < 50) {
                        rate = .2;
                    } else if (elem <= 200) {
                        rate = .15;
                    }

                    this.tips.push(elem * rate);
                    this.finals.push(elem + (elem * rate));
                });
            }
        }

        const marksBills = {
            'billsValues': [77, 375, 110, 45],
            'tips': [],
            'finals': [],
            'calcIt': function () {
                this.billsValues.forEach(elem => {
                    let rate = .25

                    if (elem < 100) {
                        rate = .2;
                    } else if (elem <= 300) {
                        rate = .10;
                    }

                    this.tips.push(elem * rate);
                    this.finals.push(elem + (elem * rate));
                });
            }
        }

        // Function

        const calcAvg = (tipsArr) => {
            return tipsArr.reduce((sum, elem) => sum + elem) / tipsArr.length;
        };

        johnsBills.calcIt();
        marksBills.calcIt();

        johnsBills.avg = calcAvg(johnsBills.tips);
        marksBills.avg = calcAvg(marksBills.tips);

        console.log(johnsBills, marksBills);
        console.log(johnsBills.avg > marksBills.avg ? 'John payed more' : 'Mark payed more');
    </script>

</body>

</html>